<script>
  const params = new URLSearchParams(window.location.search);
  const code = params.get("id"); // konsisten pakai ?id=RMK-0001
  const resultDiv = document.getElementById("resultArea");

  fetch("anggota.json")
    .then(response => response.json())
    .then(data => {
      if (data[code]) {
        resultDiv.innerHTML = `
          <div class="badge">✅ KEANGGOTAAN TERVERIFIKASI</div>
          <div class="member-info card">
            <h3>${data[code].nama}</h3>
            <p><strong>ID Anggota:</strong> ${code}</p>
            <p><strong>Jabatan:</strong> ${data[code].jabatan}</p>
          </div>
        `;
      } else {
        resultDiv.innerHTML = `
          <div class="not-badge">❌ KODE TIDAK VALID</div>
          <p class="note">Kode anggota <strong>${code || "-"}</strong> tidak ditemukan dalam sistem.</p>
        `;
      }
    })
    .catch(error => {
      resultDiv.innerHTML = `<p style="color:red;">Terjadi kesalahan: ${error}</p>`;
    });
</script>

